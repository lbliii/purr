{% extends "base.html" %}
{#
================================================================================
Purr Default Theme — Page Template
================================================================================
Renders a single content page with optional TOC sidebar.
Auto-selected for pages without a specific template override.
================================================================================
#}

{% block title %}{{ page.title ?? 'Page' }} — {{ site.title ?? 'Purr' }}{% end %}

{% block content %}
<div class="page-layout{{ ' page-with-toc' if toc else '' }}">
  <article class="page prose">
    <header class="page-header">
      <h1>{{ page.title ?? 'Untitled' }}</h1>
      {% if page.date ?? none %}
      <time class="page-date" datetime="{{ page.date }}">{{ page.date }}</time>
      {% end %}
    </header>

    <div class="page-content">
      {{ content | safe }}
    </div>

    {% if (page.tags ?? []) | length > 0 %}
    <footer class="page-footer">
      <div class="page-tags">
        {% for tag in page.tags %}
        <span class="tag">{{ tag }}</span>
        {% end %}
      </div>
    </footer>
    {% end %}
  </article>

  {% if toc %}
  <aside class="page-sidebar">
    <nav class="toc" aria-label="Table of contents">
      <h2 class="toc-title">On this page</h2>
      <div class="toc-content">
        {{ toc | safe }}
      </div>
    </nav>
  </aside>
  {% end %}
</div>
{% end %}
